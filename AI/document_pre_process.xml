<mxfile host="app.diagrams.net">
  <diagram id="AUTOSAR_Document_Pipeline" name="AUTOSAR Document Processing Pipeline">
    <mxGraphModel dx="1500" dy="1000" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <!-- Raw AUTOSAR PDFs -->
        <mxCell id="pdfs" value="Raw AUTOSAR PDFs" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#D5E8D4" vertex="1" parent="1">
          <mxGeometry x="200" y="20" width="160" height="40" as="geometry"/>
        </mxCell>

        <!-- PDF Parser -->
        <mxCell id="parser" value="PDF Parser" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC" vertex="1" parent="1">
          <mxGeometry x="200" y="80" width="160" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;" edge="1" parent="1" source="pdfs" target="parser">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Section Splitter -->
        <mxCell id="splitter" value="Section Splitter (TOC-based)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8CECC" vertex="1" parent="1">
          <mxGeometry x="200" y="140" width="200" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;" edge="1" parent="1" source="parser" target="splitter">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Data Cleaner & Normalizer -->
        <mxCell id="cleaner" value="Data Cleaner &amp; Normalizer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DAE8FC" vertex="1" parent="1">
          <mxGeometry x="200" y="200" width="200" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="arrow3" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;" edge="1" parent="1" source="splitter" target="cleaner">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Glossary & Schema Standardizer -->
        <mxCell id="standardizer" value="Glossary &amp; Schema Standardizer" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC" vertex="1" parent="1">
          <mxGeometry x="200" y="260" width="220" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="arrow4" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;" edge="1" parent="1" source="cleaner" target="standardizer">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Output Structured Data -->
        <mxCell id="output" value="Output Structured Data&#xa;- {prompt: answer}&#xa;- JSON configs&#xa;- Example definitions" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E1D5E7" vertex="1" parent="1">
          <mxGeometry x="200" y="320" width="240" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="arrow5" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;" edge="1" parent="1" source="standardizer" target="output">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Storage -->
        <mxCell id="storage" value="Storage&#xa;- MongoDB (configs)&#xa;- JSON/Parquet (dataset)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F8CECC" vertex="1" parent="1">
          <mxGeometry x="200" y="420" width="240" height="80" as="geometry"/>
        </mxCell>
        <mxCell id="arrow6" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;" edge="1" parent="1" source="output" target="storage">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- Embedding Generator -->
        <mxCell id="embedgen" value="Embedding Generator (Sentence Transformers)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#DAE8FC" vertex="1" parent="1">
          <mxGeometry x="200" y="520" width="260" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="arrow7" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;" edge="1" parent="1" source="storage" target="embedgen">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <!-- ChromaDB / FAISS Storage -->
        <mxCell id="vectorstore" value="ChromaDB / FAISS Storage" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF2CC" vertex="1" parent="1">
          <mxGeometry x="200" y="580" width="220" height="40" as="geometry"/>
        </mxCell>
        <mxCell id="arrow8" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;" edge="1" parent="1" source="embedgen" target="vectorstore">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
